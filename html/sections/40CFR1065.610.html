<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="../../css/uswds.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../css/uswds.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="css/uswds.min.css">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>

    <header>
        <h2 class="title">
            <a href="/">Code of Federal Regulations (alpha)</a>
        </h2>
    </header>

    <div class="usa-grid">
      <div class="usa-width-one-whole">
          <h3>
                                <a href="/">CFR</a><span>&nbsp/&nbsp</span>
                                <a href="/html/titles/title40.html">
                                    Title 40
                                </a><span>&nbsp/&nbsp</span>
                                <a href="/html/parts/40CFR1065.html">Part 1065
                                </a><span>&nbsp/&nbsp<span>
                                Sec.  1065.610  Duty cycle generation.
                            </h3>
                            <p class="depth0">This section describes how to generate duty cycles that are specific to your engine, based on the normalized duty cycles in the standard-setting part. During an emission test, use a duty cycle that is specific to your engine to command engine speed, torque, and power, as applicable, using an engine dynamometer and an engine operator demand. Paragraph (a) of this section describes how to ``normalize'' your engine's map to determine the maximum test speed and torque for your engine. The rest of this section describes how to use these values to ``denormalize'' the duty cycles in the standard-setting parts, which are all published on a normalized basis. Thus, the term ``normalized'' in paragraph (a) of this section refers to different values than it does in the rest of the section.</p><p class="depth1"><em>(a)</em> Maximum test speed, fntest. This section generally applies to duty cycles for variable-speed engines. For constant-speed engines subject to duty cycles that specify normalized speed commands, use the no-load governed speed as the measured fntest. This is the highest engine speed where an engine outputs zero torque. For variable-speed engines, determine fntest as follows:</p><p class="depth2"><em>(1)</em> Develop a measured value for fntest as follows:</p><p class="depth3"><em>(i)</em> Determine maximum power, Pmax, from the engine map generated according to Sec.  1065.510 and calculate the value for power equal to 98% of Pmax.</p><p class="depth3"><em>(ii)</em> Determine the lowest and highest engine speeds corresponding to 98% of Pmax, using linear interpolation as appropriate.</p><p class="depth3"><em>(iii)</em> Determine the engine speed corresponding to maximum power, fnPmax, by calculating the average of the two speed values from paragraph (a)(1)(ii) of this section.</p><p class="depth3"><em>(iv)</em> Transform the map into a normalized power-versus-speed map by dividing power terms by Pmax and dividing speed terms by fnPmax. Use the following equation to calculate a quantity representing the sum of squares from the normalized map:[GRAPHIC] [TIFF OMITTED] TR28AP14.015</p><p class="depth3"><em>(v)</em> Determine the maximum value for the sum of the squares from the map and multiply that value by 0.98.</p><p class="depth3"><em>(vi)</em> Determine the lowest and highest engine speeds corresponding to the value calculated in paragraph (a)(1)(v) of this section, using linear interpolation as appropriate. Calculate fntest as the average of these two speed values.</p><p class="depth3"><em>(vii)</em> The following example illustrates a calculation of fntest:</p><p class="depth4">Pmax = 230.0
(fn1 = 2360, P1 = 222.5, fnnorm1 =</p><p class="depth4">1.002, Pnorm1 = 0.9675)(fn2 = 2364, P2 = 226.8, fnnorm2 =</p><p class="depth4">1.004, Pnorm2 = 0.9859)(fn3 = 2369, P3 = 228.6, fnnorm3 =</p><p class="depth4">1.006, Pnorm3 = 0.9940)(fn4 = 2374, P4 = 218.7, fnnorm4 =</p><p class="depth4">1.008, Pnorm4 = 0.9508)Sum of squares = (1.002\2\ + 0.9675\2\) = 1.94Sum of squares = (1.004\2\ + 0.9859\2\) = 1.98Sum of squares = (1.006\2\ + 0.9940\2\) = 2.00Sum of squares = (1.008\2\ + 0.9508\2\) = 1.92

[GRAPHIC] [TIFF OMITTED] TR19FE15.022</p><p class="depth2"><em>(2)</em> For engines with a high-speed governor that will be subject to a reference duty cycle that specifies normalized speeds greater than 100%, calculate an alternate maximum test speed, fntest,alt, as specified in this paragraph (a)(2). If fntest,alt is less than the measured maximum test speed, fntest, determined in paragraph (a)(1) of this section, replace fntest with fntest,alt. In this case, fntest,alt becomes the ``maximum test speed'' for that engine. Note that Sec.  1065.510 allows you to apply an optional declared maximum test speed to the final measured maximum test speed determined as an outcome of the comparison between fntest, and fntest,alt in this paragraph (a)(2). Determine fntest,alt as follows:[GRAPHIC] [TIFF OMITTED] TR15SE11.027
Where:
fntest,alt = alternate maximum test speedfnhi,idle = warm high-idle speedfnidle = warm idle speed% speedmax = maximum normalized speed from duty cycle
Example:
fnhi,idle = 2,200 r/minfnidle = 800 r/min% speedmax = 105% (Nonroad CI Transient Cycle)fntest,alt = (2,200-800)/105% + 800fntest,alt = 2,133 r/min</p><p class="depth2"><em>(3)</em> For variable-speed engines, transform normalized speeds to reference speeds according to paragraph (c) of this section by using the measured maximum test speed determined according to paragraphs (a)(1) and (2) of this section--or use your declared maximum test speed, as allowed in Sec.  1065.510.</p><p class="depth2"><em>(4)</em> For constant-speed engines, transform normalized speeds to reference speeds according to paragraph (c) of this section by using the measured no-load governed speed--or use your declared maximum test speed, as allowed in Sec.  1065.510.</p><p class="depth1"><em>(b)</em> Maximum test torque, Ttest. For constant-speed engines, determine the measured Ttest from the power-versus-speed map, generated according to Sec.  1065.510, as follows:</p><p class="depth2"><em>(1)</em> Based on the map, determine maximum power, Pmax, and the speed at which maximum power occurs, fnPmax. If maximum power occurs at multiple speeds, take fnPmax as the lowest of these speeds. Divide every recorded power by Pmax and divide every recorded speed by fnPmax. The result is a normalized power-versus-speed map. Your measured Ttest is the torque at which the sum of the squares of normalized

speed and power is maximum. Note that that if multiple maximum values are found, Ttest should be taken as the highest torque of all points with the same maximum sum of squares. Determine Ttest as follows:[GRAPHIC] [TIFF OMITTED] TR15SE11.028
Where:
Ttest = maximum test torque.
Example:
(fnnorm1 = 1.002, Pnorm1 = 0.978, T1 =</p><p class="depth3">722.62 N [middot] m)(fnnorm2 = 1.004, Pnorm2 = 0.977, T2 =</p><p class="depth3">720.44 N [middot] m)(fnnorm3 = 1.006, Pnorm3 = 0.974, T3 =</p><p class="depth3">716.80 N [middot] m)(fnnorm1\2\ + Pnorm1\2\) = (1.002\2\ + 0.978\2\) =</p><p class="depth3">1.960(fnnorm1\2\ + Pnorm1\2\) = (1.004\2\ + 0.977\2\) =</p><p class="depth3">1.963(fnnorm1\2\ + Pnorm1\2\) = (1.006\2\ + 0.974\2\) =</p><p class="depth3">1.961maximum = 1.963 at--i = 2Ttest-- = 720.44 N [middot] m</p><p class="depth2"><em>(2)</em> Transform normalized torques to reference torques according to paragraph (d) of this section by using the measured maximum test torque determined according to paragraph (b)(1) of this section--or use your declared maximum test torque, as allowed in Sec.  1065.510.</p><p class="depth1"><em>(c)</em> Generating reference speed values from normalized duty cycle speeds. Transform normalized speed values to reference values as follows:</p><p class="depth2"><em>(1)</em> % speed. If your normalized duty cycle specifies % speed values, use your warm idle speed and your maximum test speed to transform the duty cycle, as follows:[GRAPHIC] [TIFF OMITTED] TR15SE11.029
Example:
% speed = 85%fntest = 2,364 r/minfnidle = 650 r/minfnref = 85% [middot] (2,364 - 650) + 650fnref = 2,107 r/min</p><p class="depth2"><em>(2)</em> A, B, and C speeds. If your normalized duty cycle specifies speeds as A, B, or C values, use your power-versus-speed curve to determine the lowest speed below maximum power at which 50% of maximum power occurs. Denote this value as nlo. Take nlo to be warm idle speed if all power points at speeds below the maximum power speed are higher than 50% of maximum power. Also determine the highest speed above maximum power at which 70% of maximum power occurs. Denote this value as nhi. If all power points at speeds above the maximum power speed are higher than 70% of maximum power, take nhi to be the declared maximum safe engine speed or the declared maximum representative engine speed, whichever is lower. Use nhi and nlo to calculate reference values for A, B, or C speeds as follows:

[GRAPHIC] [TIFF OMITTED] TR15SE11.030
Example:
nlo = 1005 r/minnhi = 2385 r/minfnrefA = 0.25 [middot] (2385 - 1005) + 1005fnrefB = 0.50 [middot] (2385 - 1005) + 1005fnrefC = 0.75 [middot] (2385 - 1005) + 1005fnrefA = 1350 r/minfnrefB = 1695 r/minfnrefC = 2040 r/min</p><p class="depth2"><em>(3)</em> Intermediate speed. Based on the map, determine maximum torque, Tmax, and the corresponding speed, fnTmax, calculated as the average of the lowest and highest speeds at which torque is equal to 98% of Tmax. Use linear interpolation between points to determine the speeds where torque is equal to 98% of Tmax. Identify your reference intermediate speed as one of the following values:</p><p class="depth3"><em>(i)</em> fnTmax if it is between (60 and 75) % of maximum test speed.</p><p class="depth3"><em>(ii)</em> 60% of maximum test speed if fnTmax is less than 60% of maximum test speed.</p><p class="depth3"><em>(iii)</em> 75% of maximum test speed if fnTmax is greater than 75% of maximum test speed.</p><p class="depth1"><em>(d)</em> Generating reference torques from normalized duty-cycle torques. Transform normalized torques to reference torques using your map of maximum torque versus speed.</p><p class="depth2"><em>(1)</em> Reference torque for variable-speed engines. For a given speed point, multiply the corresponding % torque by the maximum torque at that speed, according to your map. If your engine is subject to a reference duty cycle that specifies negative torque values (i.e., engine motoring), use negative torque for those motoring points (i.e., the motoring torque). If you map negative torque as allowed under Sec.  1065.510 (c)(2) and the low-speed governor activates, resulting in positive torques, you may replace those positive motoring mapped torques with negative values between zero and the largest negative motoring torque. For both maximum and motoring torque maps, linearly interpolate mapped torque values to determine torque between mapped speeds. If the reference speed is below the minimum mapped speed (i.e., 95% of idle speed or 95% of lowest required speed, whichever is higher), use the mapped torque at the minimum mapped speed as the reference torque. The result is the reference torque for each speed point.</p><p class="depth2"><em>(2)</em> Reference torque for constant-speed engines. Multiply a % torque value by your maximum test torque. The result is the reference torque for each point.</p><p class="depth2"><em>(3)</em> Required deviations. We require the following deviations for variable-speed engines intended primarily for propulsion of a vehicle with an automatic transmission where that engine is subject to a transient duty cycle with idle operation. These deviations are intended to produce a more representative transient duty cycle for these applications. For steady-state duty cycles or transient duty cycles with no idle operation, these requirements do not apply. Idle points for steady state duty cycles of such engines are to be

run at conditions simulating neutral or park on the transmission.</p><p class="depth3"><em>(i)</em> Zero-percent speed is the warm idle speed measured according to Sec.  1065.510(b)(6) with CITT applied, i.e., measured warm idle speed in drive.</p><p class="depth3"><em>(ii)</em> If the cycle begins with a set of contiguous idle points (zero-percent speed, and zero-percent torque), leave the reference torques set to zero for this initial contiguous idle segment. This is to represent free idle operation with the transmission in neutral or park at the start of the transient duty cycle, after the engine is started. If the initial idle segment is longer than 24 seconds, change the reference torques for the remaining idle points in the initial contiguous idle segment to CITT (i.e., change idle points corresponding to 25 seconds to the end of the initial idle segment to CITT). This is to represent shifting the transmission to drive.</p><p class="depth3"><em>(iii)</em> For all other idle points, change the reference torque to CITT. This is to represent the transmission operating in drive.</p><p class="depth3"><em>(iv)</em> If the engine is intended primarily for automatic transmissions with a Neutral-When-Stationary feature that automatically shifts the transmission to neutral after the vehicle is stopped for a designated time and automatically shifts back to drive when the operator increases demand (i.e., pushes the accelerator pedal), change the reference torque back to zero for idle points in drive after the designated time.</p><p class="depth3"><em>(v)</em> For all points with normalized speed at or below zero percent and reference torque from zero to CITT, set the reference torque to CITT. This is to provide smoother torque references below idle speed.</p><p class="depth3"><em>(vi)</em> For motoring points, make no changes.</p><p class="depth3"><em>(vii)</em> For consecutive points with reference torques from zero to CITT that immediately follow idle points, change their reference torques to CITT. This is to provide smooth torque transition out of idle operation. This does not apply if the Neutral-When-Stationary feature is used and the transmission has shifted to neutral.</p><p class="depth3"><em>(viii)</em> For consecutive points with reference torque from zero to CITT that immediately precede idle points, change their reference torques to CITT. This is to provide smooth torque transition into idle operation.</p><p class="depth2"><em>(4)</em> Permissible deviations for any engine. If your engine does not operate below a certain minimum torque under normal in-use conditions, you may use a declared minimum torque as the reference value instead of any value denormalized to be less than the declared value. For example, if your engine is connected to a hydrostatic transmission and it has a minimum torque even when all the driven hydraulic actuators and motors are stationary and the engine is at idle, then you may use this declared minimum torque as a reference torque value instead of any reference torque value generated under paragraph (d)(1) or (2) of this section that is between zero and this declared minimum torque.</p><p class="depth1"><em>(e)</em> Generating reference power values from normalized duty cycle powers. Transform normalized power values to reference speed and power values using your map of maximum power versus speed.</p><p class="depth2"><em>(1)</em> First transform normalized speed values into reference speed values. For a given speed point, multiply the corresponding % power by the mapped power at maximum test speed, fntest, unless specified otherwise by the standard-setting part. The result is the reference power for each speed point, Pref. Convert these reference powers to corresponding torques for operator demand and dynamometer control and for duty cycle validation per 1065.514. Use the reference speed associated with each reference power point for this conversion. As with cycles specified with % torque, linearly interpolate between these reference torque values generated from cycles with % power.</p><p class="depth2"><em>(2)</em> Permissible deviations for any engine. If your engine does not operate below a certain power under normal in-use conditions, you may use a declared minimum power as the reference value instead of any value denormalized to be less than the declared value. For example, if your engine is directly connected to a propeller, it may have a minimum power called idle power. In this case, you may use this declared minimum power as a reference power

value instead of any reference power value generated per paragraph (e)(1) of this section that is from zero to this declared minimum power.
[73 FR 37324, June 30, 2008, as amended at 73 FR 59330, Oct. 8, 2008; 75 FR 23045, Apr. 30, 2010; 76 FR 57453, Sept. 15, 2011; 78 FR 36398, June 17, 2013; 79 FR 23783, Apr. 28, 2014; 80 FR 9118, Feb. 19, 2015]</p>
      </div>
    </div>

    <footer class="usa-footer usa-footer-slim" role="contentinfo">
    <div class="usa-grid usa-footer-return-to-top">
      <a href="#">Return to top</a>
    </div>
    <div class="usa-footer-primary-section">
      <div class="usa-grid-full">
        <h5>Built with ‚ù§ by <a href="https://18f.gsa.gov/">18F</a>. Code available <a href="#">on Github.</a></h5>
      </div>
    </div>
  </footer>
  </body>
</html>
